---
- name: install mysql
  hosts: all
  vars:
    ansible_python_interpreter: /usr/bin/python3
  collections:
    - community.mysql

  tasks:
    - name: Install python package
      ansible.builtin.pip:
        name: "{{ pippackages }}"
      vars:
        pippackages:
        - pymysql
        - python3-dnf

    - name: docker packages installation
      ansible.builtin.dnf:
        name: mariadb-server
        state: present

    - name: d√©marrer mysql
      systemd:
        name: mariadb.service
        state: started
        enabled: yes

    - name: install db
      mysql_db:
        name: bobby
        state: present
